(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[4],{

/***/ "./assets/img/arrow.png":
/*!******************************!*\
  !*** ./assets/img/arrow.png ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAg0lEQVR4Ae3PoRGAQADEQAqgOwp+QVkIeI+IABGY3Mz57PKHtdZaa+18eX5AgACPwdv8wQB/PAP88XfM1+I3ALjjlzkAuOMB4I4HgDseAO54AsjjGSCPZ4A+ngH+eAb44wUAjhcDON4J4HjPii+++OIFgMHxbsA6v3O8HzFs8a211toFUaa9F9kvYr0AAAAASUVORK5CYII=");

/***/ }),

/***/ "./assets/img/brush.png":
/*!******************************!*\
  !*** ./assets/img/brush.png ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAA80lEQVR4Ae3SEWzEcBTH8cLB4DznKRTnbsPCPIPC3GGewbAwGA4PBgeHg4M6FQ4Kg3kGn9HZlvYPS16z93H4/vJedZFSSgk1epzQrS2+wQQAeFxlfMGI8PEA3ZrjYVhzPPRrjp9Qrzm+yfiMz/g/kfEZn/EZHwmG+PHlFwgXXzCiID7+iADx2OAOB4wY0ONmZkSI+B1OfveM7Q8jhhBvg6N5b1VEuLdcG3HAwXL7iAM+LTdGi2+UOUcb0CnzHil+h0mZhwjhW7QYlflCHWHAKyj3VEWADV6UOWJTRYIWH+b1l/hwcIVb7HEGwIge19W/llJK33O+WThLAiVrAAAAAElFTkSuQmCC");

/***/ }),

/***/ "./assets/img/circle.png":
/*!*******************************!*\
  !*** ./assets/img/circle.png ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACSElEQVR4Ae3YAWTDQABA0SIohqAoimIYoBiKAgBDEEBRBDAUQxEUBUAxFAUMwxAMAwxBMQxQDEVxgKAIgu5jOCfderlLb8jnAc3JVXLu0mqyU1PT8XjsIcIKCTbY/UjxgkeM0fkvN+0jxgY6FXjHFG0XN97GDBlME4jgXerm7yBguy8M6775GL+V4gEBhuj/GCFEjM8/Hq1JHTd+hWeUlWGKjuYLP0eOspbwbE4ggVqBBXyDcbtYnZqErZufQ01gZPEPCnCA2sR04BBqW/RreEwHEJArMDRZ4zPICfRqXCQGOJSsTl6VwRaQyzX+DdPHSS2q8nLlkJu1LlTJiy3Q1hlgWTqASeZ/4FRngJ3xamB/9XvXeZHkDmg72t3KFehU2S4kLUeVbDvG51z0qn3R5fZej+dc9AG5W4cTCCH3cs5Fe8j1HE5gBLn074uUHJ/4+pDbmU3A/Uq0P+ciAbmuwwkMIbepsnQNHE4g0F7S+dEb5EKHE3iA3KrKLvTJ4QRSyEVVlq4MnoOb74DKlnT9FzlwMIEp5DY6F6+tnIrI4mkw1hngGoXG86eX/nuYwTc9FWW4udD2oYDczNapaAu/5q2DsHYa5MJ7qKXwa9o2bKF2ZzrwGmpb3FjeMgioxTYG95BCLUMEz8Jn+hxqz7a/EqQo6wsBPM0bn0CgrARXtp9RD2ucKsMTQgzQVZ7vW4yR4IBTzete5u6Rw3aZ/sbR/LN4AdNyg8/0xhO5xhoCuu2wLD8wuTuAL/CGT2VSe3zgFbG9Q1JTU9M3aYdz37O+QlMAAAAASUVORK5CYII=");

/***/ }),

/***/ "./assets/img/pan.png":
/*!****************************!*\
  !*** ./assets/img/pan.png ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABHklEQVR4AezZEVBEQRjA8YWD4JwPcocgD4MwCMKDnA4PgpzDIJ8HQRDkHIRBEBz8wmB3Zm/mte19zf71yfvNN98nm1qHBS4w4RXrFCncyjuLBPiQ9xhmQpQLMyHK7Tuh7ktaB5Trv6RxAJUlDQAoNv/7/CvVE1C/UkEA9SsVAFBsAAZgAAZgAAZgAP4HoFMDMAAtAVjhFEehAFjiAQDvuAwBwBJPyr3g5NABk3r3WB0q4Bw79b6wwbI3YAbiZz/6AuYj9ASERqSsYIi0T7gOBsjDOgAgHiJlBUOkrGCIlBUL8ZayYiGe09xwo1+bdg987dvhOGXFQWzTb4etv2nCIrUIV/jUrrtmP/89JE9IQDs756nUELwPxLOB2ACXnQDI55PSbt5htAAAAABJRU5ErkJggg==");

/***/ }),

/***/ "./assets/img/redo.png":
/*!*****************************!*\
  !*** ./assets/img/redo.png ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABJklEQVR4Ae3WAWcCYRzH8TAEGIYwhCGE3sMwQC8jhGEIYQhhCAOEMMAAQ4AhQIBhCMMhQAiH8BkEdEvXnrTx/3AA5/vznMdVQgghhBBCCIfA03+OH8GpXt5ABxO84wNf2D5mGKOL5rHxkDL6GkMslbfAALUy8ZAivI5XbPzeBmPU9sUnGYAL9JBLb41uUXySAahh7vSmuMQIkgxAA5n9ckzRwy2aqG+fBu7Qxwwb+60gyQC0sPazDA+4KnmaA6yUp+xnkym2wRDVypFwiclJBqCKuWJLtCqJoI089YBHxT5RqySE+6QngBvkdmXniS8/4M2uHK1zx8MBV2ah/vnjgVL/HYAFLs4TX37Ac8G93/kr8XDoFdrGCzJUU8anGhBCCCGEEEII3w/z7u4seGJYAAAAAElFTkSuQmCC");

/***/ }),

/***/ "./assets/img/square.png":
/*!*******************************!*\
  !*** ./assets/img/square.png ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAiElEQVR4Ae3PIQGEQBQA0Y1wARBEuKYEIAQBCIE4cZIIK5CIAQsG89lv5iWYKXoiSQI6YAR+vG8BBuATFd8DlfbWkAlgIs8QMVDJswQMXJWXceNA2oADDjjggAMOOOCAAw444IADDjjgwEaef8TATJ4xYuAL7LRXga6coiZmYGsUPgF9eSBJ0gFh7t5ruzrRJAAAAABJRU5ErkJggg==");

/***/ }),

/***/ "./assets/img/text.png":
/*!*****************************!*\
  !*** ./assets/img/text.png ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwAQAAAAB/ecQqAAAAAnRSTlMAAHaTzTgAAAAZSURBVHgBYyAb2P///4c4ioH9AcOgp6gEAIlxKP9SIsK/AAAAAElFTkSuQmCC");

/***/ }),

/***/ "./assets/img/undo.png":
/*!*****************************!*\
  !*** ./assets/img/undo.png ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABIElEQVR4Ae3RAURDYRSG4YsQwkUIwzAECBAChgAQAIYAMAwhDCGEEMIAAQKEEAYIYQgAQxiGIQwXTxChu8vm/9k4DwfA53WKEEIIIYQQtgcudj2g2ukI2DQCp+jjCe+Y/p0JxnhED+1sAetEoIN7fFnfFFc4zBDQHIEOnqWxxChJCDRFYA9DVNJb4DJBQH0EWviQ3ysOUgZAhblmS7xhgC46aKONE5xjiDEqzT5xlC6g2QwDlGvstHCDudVmaOUMqHCH/WJDKDGy2gQHOQIWOCsSQRff6r3kCIB+kRCOMVOvlz4gX0TdJ+Yo0wfkiThX7yF9QL6Ikf+WKHMFJI1AicXaG7BFEbcAgDmucwcki0ALM4zQxV7xK4QQQgghhBB+AA1l6bTKlXQ+AAAAAElFTkSuQmCC");

/***/ }),

/***/ "./src/components/Alert.js":
/*!*********************************!*\
  !*** ./src/components/Alert.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);


const Alert = ({
  children,
  style
}) => react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
  className: `alert alert-${style}`,
  role: "alert"
}, children);

Alert.Error = ({
  object,
  style = "danger"
}) => {
  const transformMessage = () => {
    const {
      message
    } = object;

    if (typeof message === 'string') {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
        key: 0,
        className: "m-0 p-0"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", {
        key: 0
      }, "Oops! "), message.message);
    }

    if (typeof message === 'object' && Object.entries(message).length) {
      return Object.entries(message).map(([key, value], i) => react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
        key: key,
        className: "m-0 p-0"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", {
        key: key
      }, key.toUpperCase(), ": "), Array.isArray(value) ? value.join(', ') : value));
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
      key: 0,
      className: "m-0 p-0"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", {
      key: 0
    }, "Oops! "), "Bad things happend");
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Alert, {
    style: style
  }, transformMessage());
};

Alert.Success = ({
  object,
  style = "success"
}) => {
  const transformMessage = () => {
    if (typeof object === 'object' && Object.entries(object).length) {
      return Object.entries(object).map(([key, value], i) => react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
        key: key,
        className: "m-0 p-0"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", {
        key: key
      }, key.toUpperCase(), ": "), Array.isArray(value) ? value.join(', ') : value));
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
      className: "m-0 p-0"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", null, "Well done! "), object);
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Alert, {
    style: style
  }, transformMessage());
};

/* harmony default export */ __webpack_exports__["default"] = (Alert);

/***/ }),

/***/ "./src/components/ColorIcon.js":
/*!*************************************!*\
  !*** ./src/components/ColorIcon.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ __webpack_exports__["default"] = (({
  width = "30px",
  height = "30px",
  color = "#ffffff"
}) => react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg", {
  xmlns: "http://www.w3.org/2000/svg",
  xmlnsXlink: "http://www.w3.org/1999/xlink",
  version: "1.1",
  x: "0px",
  y: "0px",
  width: "30px",
  height: "30px",
  viewBox: "0 0 431.985 431.985"
}, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("g", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("g", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path", {
  d: "M423.257,51.829c-0.808-2.045-2.67-3.484-4.853-3.751c-2.177-0.266-4.335,0.682-5.612,2.472   c-7.581,10.629-17.529,14.172-29.053,18.275c-9.292,3.31-18.901,6.73-29.286,14.186c-14.687,10.544-21.405,24.917-18.055,38.54   l-0.358,0.459c-6.133-8.897-12.806-17.126-19.848-24.474c-32.947-34.378-78.984-55.046-126.311-56.703   c-2.085-0.073-4.204-0.11-6.298-0.11c-52.846,0-103.428,23.624-138.775,64.813C9.646,146.512-5.939,199.853,2.051,251.882   c0.668,4.349,1.504,8.743,2.487,13.063c12.996,57.202,46.189,100.717,91.069,119.383c11.063,4.602,22.222,6.934,33.163,6.934   c27.183,0,50.926-14.539,65.143-39.889c5.404-9.646,8.891-19.621,10.36-29.651c0.866-5.92,0.274-11.835-0.3-17.567   c-0.591-5.9-1.149-11.476-0.256-17.09c2.047-12.869,11.036-20.553,24.047-20.553c3.701,0,7.483,0.609,11.26,1.812   c-4.422,8.11-8.438,15.854-11.947,23.032c-7.437,15.212-12.567,27.81-15.252,37.44c-1.655,5.939-6.052,21.722,4.67,29.164   c3.405,2.363,7.722,3.197,12.215,2.361c4.049-0.752,16.369-3.041,51.378-42.896c9.396-10.695,19.521-23.072,30.104-36.794   c27.168-9.15,48.31-31.921,53.903-58.087c1.4-6.541,1.984-13.541,1.735-20.812c10.172-15.72,19.094-30.388,28.072-46.156   c0.172-0.304,0.342-0.628,0.51-0.96c13.031-3.569,24.254-13.71,30.842-27.891C434.872,106.028,434.163,79.428,423.257,51.829z    M276.385,149.834c-4.713,7.485-12.814,11.954-21.673,11.954c-4.81,0-9.515-1.361-13.605-3.937   c-5.782-3.642-9.803-9.317-11.316-15.98s-0.345-13.518,3.298-19.301c4.714-7.485,12.816-11.954,21.675-11.954   c4.811,0,9.515,1.361,13.604,3.938c5.782,3.64,9.802,9.315,11.316,15.979C281.197,137.197,280.026,144.051,276.385,149.834z    M309.592,196.187c12.934-19.057,26.612-38,39.604-54.85c2.106,1.902,4.461,3.76,7.012,5.53c4.227,2.933,8.648,5.201,13.164,6.754   c-10.969,18.758-22.763,37.342-37.043,58.375c-23.463,34.571-47.859,66.684-68.695,90.424   c-11.638,13.26-21.823,23.498-29.671,29.839c3.029-9.69,8.818-22.989,16.875-38.746   C265.245,265.336,286.111,230.772,309.592,196.187z M82.506,196.023c-4.811,0-9.516-1.361-13.607-3.938   c-5.782-3.641-9.801-9.314-11.315-15.979c-1.514-6.664-0.342-13.519,3.301-19.302c4.711-7.484,12.813-11.953,21.671-11.953   c4.812,0,9.517,1.361,13.607,3.938c11.936,7.518,15.532,23.345,8.019,35.279C99.466,191.554,91.363,196.023,82.506,196.023z    M55.688,252.358c4.713-7.486,12.814-11.955,21.673-11.955c4.81,0,9.514,1.362,13.606,3.938c5.782,3.641,9.801,9.315,11.315,15.979   c1.515,6.662,0.343,13.516-3.301,19.301c-4.711,7.483-12.813,11.953-21.671,11.953c-4.811,0-9.517-1.361-13.609-3.938   c-5.782-3.642-9.8-9.315-11.313-15.979C50.876,264.995,52.049,258.14,55.688,252.358z M137.62,100.414   c4.713-7.485,12.815-11.954,21.673-11.954c4.809,0,9.514,1.361,13.604,3.937c11.937,7.516,15.533,23.344,8.019,35.28   c-4.715,7.486-12.817,11.955-21.675,11.955c-4.81,0-9.515-1.361-13.605-3.938c-5.781-3.64-9.799-9.314-11.313-15.979   C132.807,113.052,133.979,106.198,137.62,100.414z",
  "data-original": "#000000",
  className: "active-path",
  "data-old_color": "#000000",
  fill: color
})))));

/***/ }),

/***/ "./src/components/ColorPicker.js":
/*!***************************************!*\
  !*** ./src/components/ColorPicker.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_color__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-color */ "./node_modules/react-color/lib/index.js");
/* harmony import */ var react_color__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_color__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ColorIcon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ColorIcon */ "./src/components/ColorIcon.js");



/* harmony default export */ __webpack_exports__["default"] = (({
  color,
  onChange,
  label = 'Choose a Color'
}) => {
  const [displayColorPicker, setDisplayColorPicker] = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(false);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    onClick: () => setDisplayColorPicker(!displayColorPicker),
    className: "color-picker-label"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, label), " : ", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ColorIcon__WEBPACK_IMPORTED_MODULE_2__["default"], {
    color: color
  })), displayColorPicker && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "color-picker-popover"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "color-picker-cover",
    onClick: () => setDisplayColorPicker(false)
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_color__WEBPACK_IMPORTED_MODULE_1__["TwitterPicker"], {
    color: color,
    onChangeComplete: onChange
  })));
});

/***/ }),

/***/ "./src/components/Form.js":
/*!********************************!*\
  !*** ./src/components/Form.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ __webpack_exports__["default"] = (({
  children,
  onSubmit
}) => {
  const serializeArray = elements => {
    const data = {};

    for (let input of elements) {
      if (input.name !== "" && !input.name.endsWith("[]")) {
        data[input.name] = input.value;
      } else if (input.name !== "" && input.name.endsWith("[]")) {
        const inputName = input.name.replace("[]", "");
        Array.isArray(data[inputName]) ? data[inputName].push(input.value) : data[inputName] = [input.value];
      }
    }

    return data;
  };

  const dispatchEvent = (events, elements, inputContaineErrors = []) => {
    let formNode = new Set(["INPUT", "SELECT", "TEXTAREA"]);

    for (let input of elements) {
      if (formNode.has(input.nodeName) && inputContaineErrors.includes(input.name)) {
        events.map(event => input.dispatchEvent(event));
      }
    }
  };

  const isValidForm = (events, object) => {
    let validation,
        error = false;
    let inputs = [];
    react__WEBPACK_IMPORTED_MODULE_0___default.a.Children.forEach(children, child => {
      if (child.props.validate) {
        validation = Array.isArray(child.props.validate) ? child.props.validate : [child.props.validate];
        error = validation.some(fn => fn.apply(null, [object[child.props.name]]));

        if (error) {
          inputs.push(child.props.name);
        }
      }
    });
    return inputs;
  };

  const handleSubmit = event => {
    event.preventDefault();
    const object = serializeArray(event.target.elements);
    const inputContaineErrors = isValidForm([new Event("blur")], object);

    if (!inputContaineErrors.length) {
      Object.keys(object).forEach(key => (object[key] === null || object[key] === "") && delete object[key]);
      onSubmit(object);
    } else {
      const blurEvent = new Event("blur");
      const changeEvent = new Event("focus");
      dispatchEvent([blurEvent, changeEvent], event.target.elements, inputContaineErrors);
    }
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("form", {
    onSubmit: handleSubmit
  }, children);
});

/***/ }),

/***/ "./src/components/InputText.js":
/*!*************************************!*\
  !*** ./src/components/InputText.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }


/* harmony default export */ __webpack_exports__["default"] = (props => {
  const {
    onBlur,
    type = "text",
    icon,
    error = null,
    ...input
  } = props;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "form-group"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "input-group input-group-alternative mb-3 " + (error ? " has-danger " : "")
  }, icon && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "input-group-prepend"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: "input-group-text"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", {
    className: `ni ${icon}`
  }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", _extends({
    className: "form-control " + (error ? " is-invalid " : ""),
    type: type,
    onBlur: onBlur
  }, input))));
});

/***/ }),

/***/ "./src/components/Modal.js":
/*!*********************************!*\
  !*** ./src/components/Modal.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Button */ "./src/components/Button.js");



const Modal = ({
  title,
  children,
  onClose = f => f
}) => react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
  className: "modal fade show",
  role: "dialog",
  tabIndex: "-1"
}, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
  className: "modal-dialog modal-dialog-centered",
  role: "document"
}, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
  className: "modal-content"
}, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
  className: "modal-header"
}, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h6", {
  className: "modal-title",
  id: "modal-title-default"
}, title), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
  onClick: onClose,
  "aria-label": "Close",
  className: "close",
  "data-dismiss": "modal",
  type: "button"
}, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
  "aria-hidden": "true"
}, "\xD7"))), children))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
  className: "modal-backdrop fade show"
}));

Modal.Body = ({
  children
}) => react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
  className: "modal-body"
}, children);

Modal.Footer = ({
  children
}) => react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
  className: "modal-footer"
}, children);

/* harmony default export */ __webpack_exports__["default"] = (Modal);

/***/ }),

/***/ "./src/containers/ScreenCapturePage.js":
/*!*********************************************!*\
  !*** ./src/containers/ScreenCapturePage.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/esm/react-router-dom.js");
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! redux */ "./node_modules/redux/es/redux.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants */ "./src/constants/index.js");
/* harmony import */ var _utils_imageAnnotate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/imageAnnotate */ "./src/utils/imageAnnotate.js");
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../actions */ "./src/actions/index.js");
/* harmony import */ var _components_Container__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/Container */ "./src/components/Container.js");
/* harmony import */ var _components_Card__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/Card */ "./src/components/Card.js");
/* harmony import */ var _components_Navbar__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../components/Navbar */ "./src/components/Navbar.js");
/* harmony import */ var _components_Loader__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../components/Loader */ "./src/components/Loader.js");
/* harmony import */ var _SettingsPage__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./SettingsPage */ "./src/containers/SettingsPage.js");
/* harmony import */ var _components_TextAlign__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../components/TextAlign */ "./src/components/TextAlign.js");
/* harmony import */ var _components_ErrorPage__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../components/ErrorPage */ "./src/components/ErrorPage.js");
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
















class ScreenCaptureEditor extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {
  constructor(props) {
    super(props);

    _defineProperty(this, "onEditSettings", values => {
      const {
        currentUser
      } = this.props;

      if (currentUser) {
        this.props.editSettings(values);
      } else {
        this.props.editSettingsLocal(values);
      }
    });

    _defineProperty(this, "onShowSettings", e => {
      this.setState({
        showModal: !this.state.showModal
      });
    });

    _defineProperty(this, "onDownloadScreenCapture", e => {
      this.annotate.exportImage(_constants__WEBPACK_IMPORTED_MODULE_4__["CAPTURE_ANNOTATION_OPTIONS"], imageBase64 => {
        const a = document.createElement("a");
        a.href = imageBase64;
        a.download = `${this.props.screenshot.uuid}.jpeg`;
        a.target = '_blank';
        a.click();
      });
    });

    _defineProperty(this, "onContinue", e => {
      e.preventDefault();
      const {
        screenshot
      } = this.props;
      this.annotate.exportImage(_constants__WEBPACK_IMPORTED_MODULE_4__["CAPTURE_ANNOTATION_OPTIONS"], imageURI => this.props.editScreenshot({ ...screenshot,
        imageURI
      }, {
        uuid: screenshot.uuid
      }));
      this.props.history.push(_constants__WEBPACK_IMPORTED_MODULE_4__["ROUTING"].TRELLO_PAGE);
    });

    this.imageAnnotateRef = react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef();
    this.annotate = undefined;
    this.state = {
      showModal: false
    };
  }

  componentDidMount() {
    this.props.removeMessages();
    this.props.fetchScreenshot(this.props.match.params);
  }

  componentDidUpdate(prevProps, prevState) {
    const {
      settingsSuccess,
      settingsError
    } = prevProps;

    if (settingsSuccess || settingsError) {
      this.props.removeMessages();
    }

    const {
      settings,
      screenshot,
      screenshotError,
      settingsSuccess: success
    } = this.props;

    if (settings && screenshot && !this.annotate && this.imageAnnotateRef && !screenshotError) {
      this.annotate = new _utils_imageAnnotate__WEBPACK_IMPORTED_MODULE_5__["default"](this.imageAnnotateRef.current, { ...settings,
        ...{
          images: [screenshot.imageURI]
        },
        tools: "#js-tools-menu"
      });
    }

    if (this.annotate && success) {
      this.annotate.updateOptions(settings);
      this.setState({
        showModal: false
      });
    }
  }

  componentUnMount() {
    this.annotate = undefined;
    this.imageAnnotateRef = undefined;
  }

  render() {
    const {
      settings,
      currentUser,
      screenshot,
      screenshotError,
      settingsError,
      settingsSuccess
    } = this.props;

    if (screenshotError) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ErrorPage__WEBPACK_IMPORTED_MODULE_13__["default"], {
        code: 404,
        message: "Looks like the screen capture you looking for is no longer here"
      });
    } else {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Navbar__WEBPACK_IMPORTED_MODULE_9__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_TextAlign__WEBPACK_IMPORTED_MODULE_12__["default"], {
        mr: 5
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        id: "js-tools-menu"
      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Navbar__WEBPACK_IMPORTED_MODULE_9__["default"].Link, {
        to: _constants__WEBPACK_IMPORTED_MODULE_4__["ROUTING"].OPTIONS_PAGE,
        text: "Options"
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Navbar__WEBPACK_IMPORTED_MODULE_9__["default"].Item, {
        onClick: this.onShowSettings,
        text: "Settings"
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Navbar__WEBPACK_IMPORTED_MODULE_9__["default"].Item, {
        onClick: this.onDownloadScreenCapture,
        text: "Download"
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Navbar__WEBPACK_IMPORTED_MODULE_9__["default"].Item, {
        onClick: this.onContinue,
        text: "Post on Trello"
      })), this.state.showModal && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_SettingsPage__WEBPACK_IMPORTED_MODULE_11__["default"], {
        error: settingsError,
        onSubmit: this.onEditSettings,
        onClose: this.onShowSettings,
        initData: settings
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Container__WEBPACK_IMPORTED_MODULE_7__["default"], {
        mt: 500
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Card__WEBPACK_IMPORTED_MODULE_8__["default"], {
        overflow: true
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Card__WEBPACK_IMPORTED_MODULE_8__["default"].Body, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        ref: this.imageAnnotateRef
      })))));
    }
  }

}

const mapDispatchToProps = dispatch => Object(redux__WEBPACK_IMPORTED_MODULE_2__["bindActionCreators"])({
  removeMessages: _actions__WEBPACK_IMPORTED_MODULE_6__["removeMessages"],
  fetchScreenshot: _actions__WEBPACK_IMPORTED_MODULE_6__["fetchScreenshot"],
  editSettings: _actions__WEBPACK_IMPORTED_MODULE_6__["editSettings"],
  editScreenshot: _actions__WEBPACK_IMPORTED_MODULE_6__["editScreenshot"],
  editSettingsLocal: _actions__WEBPACK_IMPORTED_MODULE_6__["editSettingsLocal"]
}, dispatch);

const mapStateToProps = state => {
  const {
    currentUser
  } = state.auth;
  const {
    settings,
    error: settingsError,
    success: settingsSuccess
  } = state.settings;
  const {
    screenshot,
    error: screenshotError
  } = state.screenshots;
  return {
    currentUser,
    settings,
    screenshot,
    settingsError,
    settingsSuccess,
    screenshotError
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["connect"])(mapStateToProps, mapDispatchToProps)(ScreenCaptureEditor));

/***/ }),

/***/ "./src/containers/SettingsPage.js":
/*!****************************************!*\
  !*** ./src/containers/SettingsPage.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SettingsPage; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils_validation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/validation */ "./src/utils/validation.js");
/* harmony import */ var _components_InputText__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/InputText */ "./src/components/InputText.js");
/* harmony import */ var _components_TextAlign__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/TextAlign */ "./src/components/TextAlign.js");
/* harmony import */ var _components_Button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/Button */ "./src/components/Button.js");
/* harmony import */ var _components_Form__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/Form */ "./src/components/Form.js");
/* harmony import */ var _hocomponents_Field__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../hocomponents/Field */ "./src/hocomponents/Field.js");
/* harmony import */ var _components_ColorPicker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/ColorPicker */ "./src/components/ColorPicker.js");
/* harmony import */ var _components_Modal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/Modal */ "./src/components/Modal.js");
/* harmony import */ var _components_Alert__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../components/Alert */ "./src/components/Alert.js");
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }











const TextField = Object(_hocomponents_Field__WEBPACK_IMPORTED_MODULE_6__["default"])(_components_InputText__WEBPACK_IMPORTED_MODULE_2__["default"]);
class SettingsPage extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {
  constructor(props) {
    super(props);

    _defineProperty(this, "onColorChange", color => {
      this.setState({
        color: color.hex
      });
    });

    this.state = {
      color: props.initData.color
    };
  }

  render() {
    const {
      onSubmit,
      error,
      success,
      onClose,
      initData = {}
    } = this.props;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Modal__WEBPACK_IMPORTED_MODULE_8__["default"], {
      title: "Settings",
      onClose: onClose
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Form__WEBPACK_IMPORTED_MODULE_5__["default"], {
      onSubmit: values => onSubmit({ ...values,
        color: this.state.color
      })
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Modal__WEBPACK_IMPORTED_MODULE_8__["default"].Body, null, error && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Alert__WEBPACK_IMPORTED_MODULE_9__["default"].Error, {
      object: error
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TextField, {
      name: "fontsize",
      type: "text",
      icon: "ni-caps-small",
      placeholder: "Font size",
      defaultValue: initData && initData.fontsize,
      validate: [_utils_validation__WEBPACK_IMPORTED_MODULE_1__["default"].required, _utils_validation__WEBPACK_IMPORTED_MODULE_1__["default"].minLength(1), _utils_validation__WEBPACK_IMPORTED_MODULE_1__["default"].maxLength(5)]
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TextField, {
      name: "linewidth",
      type: "text",
      icon: "ni-vector",
      placeholder: "Line width",
      defaultValue: initData && initData.linewidth,
      validate: [_utils_validation__WEBPACK_IMPORTED_MODULE_1__["default"].required, _utils_validation__WEBPACK_IMPORTED_MODULE_1__["default"].digits, _utils_validation__WEBPACK_IMPORTED_MODULE_1__["default"].min(4), _utils_validation__WEBPACK_IMPORTED_MODULE_1__["default"].max(40)]
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ColorPicker__WEBPACK_IMPORTED_MODULE_7__["default"], {
      label: "Choose a color",
      onChange: this.onColorChange,
      color: this.state.color
    })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Modal__WEBPACK_IMPORTED_MODULE_8__["default"].Footer, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_4__["default"], {
      text: "Save settings",
      style: "info",
      type: "submit"
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Button__WEBPACK_IMPORTED_MODULE_4__["default"], {
      onClick: onClose,
      text: "Close",
      style: "primary",
      type: "button"
    }))));
  }

}

/***/ }),

/***/ "./src/hocomponents/Field.js":
/*!***********************************!*\
  !*** ./src/hocomponents/Field.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }


/* harmony default export */ __webpack_exports__["default"] = (Component => {
  var _temp;

  return _temp = class Field extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {
    constructor(props) {
      super(props);

      _defineProperty(this, "onBlur", event => {
        const value = event && event.target ? event.target.value : event.value;
        const {
          onChange = false,
          validate
        } = this.props;
        let {
          error
        } = this.state;

        if (validate) {
          const validation = Array.isArray(validate) ? validate : [validate];
          error = validation.some(fn => fn.apply(null, [value]));
          this.setState({
            error
          });
        }

        if (onChange) {
          onChange.apply(null, [value]);
        }
      });

      this.state = {
        error: false
      };
    }

    render() {
      const {
        validate,
        ...input
      } = this.props;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component, _extends({
        onBlur: this.onBlur
      }, this.state, input));
    }

  }, _temp;
});

/***/ }),

/***/ "./src/utils/imageAnnotate.js":
/*!************************************!*\
  !*** ./src/utils/imageAnnotate.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Annotate; });
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _assets_img_arrow_png__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../assets/img/arrow.png */ "./assets/img/arrow.png");
/* harmony import */ var _assets_img_text_png__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../assets/img/text.png */ "./assets/img/text.png");
/* harmony import */ var _assets_img_square_png__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../assets/img/square.png */ "./assets/img/square.png");
/* harmony import */ var _assets_img_circle_png__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../assets/img/circle.png */ "./assets/img/circle.png");
/* harmony import */ var _assets_img_brush_png__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../assets/img/brush.png */ "./assets/img/brush.png");
/* harmony import */ var _assets_img_undo_png__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../assets/img/undo.png */ "./assets/img/undo.png");
/* harmony import */ var _assets_img_redo_png__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../assets/img/redo.png */ "./assets/img/redo.png");
/* harmony import */ var _assets_img_pan_png__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../assets/img/pan.png */ "./assets/img/pan.png");









/**
 * Function to annotate the image
 * @param {[type]} el      [description]
 * @param {Object} options [description]
 */

function Annotate(el, options) {
  this.options = options;
  this.$el = jquery__WEBPACK_IMPORTED_MODULE_0___default()(el);
  this.$toolElem = jquery__WEBPACK_IMPORTED_MODULE_0___default()(options.tools);
  this.clicked = false;
  this.fromx = null;
  this.fromy = null;
  this.fromxText = null;
  this.fromyText = null;
  this.tox = null;
  this.toy = null;
  this.points = [];
  this.storedUndo = [];
  this.storedElement = [];
  this.images = [];
  this.img = null;
  this.selectedImage = null;
  this.currentWidth = null;
  this.currentHeight = null;
  this.selectImageSize = {};
  this.compensationWidthRate = 1;
  this.linewidth = 2;
  this.fontsize = '20px';
  this.init();
}
Annotate.prototype = {
  init: function () {
    var self = this;
    self.linewidth = self.options.linewidth || self.linewidth;
    self.fontsize = self.options.fontsize || self.fontsize;
    self.$el.addClass('annotate-container');
    self.$el.css({
      cursor: 'pointer'
    });
    self.baseLayerId = 'baseLayer_' + self.$el.attr('id');
    self.drawingLayerId = 'drawingLayer_' + self.$el.attr('id');
    self.toolOptionId = 'tool_option_' + self.$el.attr('id');
    self.$el.append(jquery__WEBPACK_IMPORTED_MODULE_0___default()('<canvas id="' + self.baseLayerId + '"></canvas>'));
    self.$el.append(jquery__WEBPACK_IMPORTED_MODULE_0___default()('<canvas id="' + self.drawingLayerId + '"></canvas>'));
    self.baseCanvas = document.getElementById(self.baseLayerId);
    self.drawingCanvas = document.getElementById(self.drawingLayerId);
    self.baseContext = self.baseCanvas.getContext('2d');
    self.drawingContext = self.drawingCanvas.getContext('2d');
    self.baseContext.lineJoin = 'round';
    self.drawingContext.lineJoin = 'round';
    var classPosition1 = 'btn-group';
    var classPosition2 = '';
    self.$tool = '<div id="" class="btn-group btn-group-annotate" role="group" >' + '<div class="' + classPosition1 + '" data-toggle="buttons">' + '<button id="undoaction" title="Undo the last annotation"' + ' class="tool-button ' + classPosition2 + ' annotate-undo">' + ' <img src="' + _assets_img_undo_png__WEBPACK_IMPORTED_MODULE_6__["default"] + '" /></button>';

    if (self.options.unselectTool) {
      self.$tool += '<label class="tool-button active">' + '<input type="radio" name="' + self.toolOptionId + '" data-tool="null"' + ' data-toggle="tooltip" data-placement="top"' + ' title="No tool selected">' + '<img src="' + _assets_img_pan_png__WEBPACK_IMPORTED_MODULE_8__["default"] + '" />' + '</label>';
    }

    self.$tool += '<label class="tool-button">' + '<input type="radio" name="' + self.toolOptionId + '" data-tool="rectangle"' + ' data-toggle="tooltip" data-placement="top"' + ' title="Draw an rectangle">' + ' <img src="' + _assets_img_square_png__WEBPACK_IMPORTED_MODULE_3__["default"] + '" />' + '</label><label class="tool-button">' + '<input type="radio" name="' + self.toolOptionId + '" data-tool="circle"' + ' data-toggle="tooltip"' + 'data-placement="top" title="Write some text">' + ' <img src="' + _assets_img_circle_png__WEBPACK_IMPORTED_MODULE_4__["default"] + '" />' + '</label><label class="tool-button">' + '<input type="radio" name="' + self.toolOptionId + '" data-tool="text"' + ' data-toggle="tooltip"' + 'data-placement="top" title="Write some text">' + ' <img src="' + _assets_img_text_png__WEBPACK_IMPORTED_MODULE_2__["default"] + '" /></label>' + '<label class="tool-button">' + '<input type="radio" name="' + self.toolOptionId + '" data-tool="arrow"' + ' data-toggle="tooltip" data-placement="top" title="Draw an arrow">' + ' <img src="' + _assets_img_arrow_png__WEBPACK_IMPORTED_MODULE_1__["default"] + '" /></label>' + '<label class="tool-button">' + '<input type="radio" name="' + self.toolOptionId + '" data-tool="pen"' + ' data-toggle="tooltip" data-placement="top" title="Pen Tool">' + ' <img src="' + _assets_img_brush_png__WEBPACK_IMPORTED_MODULE_5__["default"] + '" /></label>' + '<button type="button" id="redoaction"' + ' title="Redo the last undone annotation"' + 'class="tool-button ' + classPosition2 + ' annotate-redo">' + ' <img src="' + _assets_img_redo_png__WEBPACK_IMPORTED_MODULE_7__["default"] + '" /></button>' + '</div></div>';
    self.$tool = jquery__WEBPACK_IMPORTED_MODULE_0___default()(self.$tool);
    self.$toolElem.append(self.$tool); //self.$el.append(self.$tool).insertBefore($('.annotate-container'))

    var canvasPosition = self.$el.offset();
    self.$textbox = jquery__WEBPACK_IMPORTED_MODULE_0___default()('<textarea id=""' + ' style="position:absolute;z-index:100000;display:none;top:0;left:0;' + 'background:transparent;border:1px dotted; line-height:25px;' + ';font-size:' + self.fontsize + ';font-family:sans-serif;color:' + self.options.color + ';word-wrap: break-word;outline-width: 0;overflow: hidden;' + 'padding:0px"></textarea>');
    jquery__WEBPACK_IMPORTED_MODULE_0___default()('body').append(self.$textbox);

    if (self.options.images) {
      self.initBackgroundImages();
    } else {
      if (!self.options.width && !self.options.height) {
        self.options.width = 640;
        self.options.height = 480;
      }

      self.baseCanvas.width = self.drawingCanvas.width = self.options.width;
      self.baseCanvas.height = self.drawingCanvas.height = self.options.height;
    }

    self.$tool.on('change', 'input[name^="tool_option"]', function (e) {
      self.$el.css({
        cursor: 'crosshair'
      });
      self.$toolElem.find('.tool-button').removeClass('active');
      jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).parent('label').addClass('active');
      self.selectTool(jquery__WEBPACK_IMPORTED_MODULE_0___default()(this));
    });
    jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-tool="' + self.options.type + '"]').trigger('click');
    self.$tool.on('click', '.annotate-redo', function (event) {
      self.redoaction(event);
    });
    self.$tool.on('click', '.annotate-undo', function (event) {
      self.undoaction(event);
    });
    jquery__WEBPACK_IMPORTED_MODULE_0___default()(document).on(self.options.selectEvent, '.annotate-image-select', function (event) {
      event.preventDefault();
      var image = self.selectBackgroundImage(jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).attr(self.options.idAttribute));
      self.setBackgroundImage(image);
    });
    jquery__WEBPACK_IMPORTED_MODULE_0___default()('#' + self.drawingLayerId).on('mousedown touchstart', function (event) {
      self.annotatestart(event);
    });
    jquery__WEBPACK_IMPORTED_MODULE_0___default()('#' + self.drawingLayerId).on('mouseup touchend', function (event) {
      self.annotatestop(event);
    }); // https://developer.mozilla.org/en-US/docs/Web/Events/touchleave

    jquery__WEBPACK_IMPORTED_MODULE_0___default()('#' + self.drawingLayerId).on('mouseleave touchleave', function (event) {
      self.annotateleave(event);
    });
    jquery__WEBPACK_IMPORTED_MODULE_0___default()('#' + self.drawingLayerId).on('mousemove touchmove', function (event) {
      self.annotatemove(event);
    });
    jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).on('resize', function () {
      self.annotateresize();
    });
    self.checkUndoRedo();
  },
  generateId: function (length) {
    var chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz'.split('');
    var charsLen = chars.length;

    if (!length) {
      length = Math.floor(Math.random() * charsLen);
    }

    var str = '';

    for (var i = 0; i < length; i++) {
      str += chars[Math.floor(Math.random() * charsLen)];
    }

    return str;
  },
  addElements: function (newStoredElements, set, callback) {
    var self = this;
    this.storedElement = newStoredElements; //console.log('DJ: Adding new annotations');

    self.clear();
    self.redraw();
  },
  pushImage: function (newImage, set, callback) {
    var self = this;
    var id = null;
    var path = null;

    if (typeof newImage === 'object') {
      id = newImage.id;
      path = newImage.path;
    } else {
      id = newImage;
      path = newImage;
    }

    if (id === '' || typeof id === 'undefined' || self.selectBackgroundImage(id)) {
      id = self.generateId(10);

      while (self.selectBackgroundImage(id)) {
        id = self.generateId(10);
      }
    }

    var image = {
      id: id,
      path: path,
      storedUndo: [],
      storedElement: []
    };
    self.images.push(image);

    if (set) {
      self.setBackgroundImage(image);
    }

    if (callback) {
      callback({
        id: image.id,
        path: image.path
      });
    }

    self.$el.trigger('annotate-image-added', [image.id, image.path]);
  },
  initBackgroundImages: function () {
    var self = this;
    jquery__WEBPACK_IMPORTED_MODULE_0___default.a.each(self.options.images, function (index, image) {
      var set = false;

      if (index === 0) {
        set = true;
      }

      self.pushImage(image, set);
    });
  },
  selectBackgroundImage: function (id) {
    var self = this;
    var image = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.grep(self.images, function (element) {
      return element.id === id;
    })[0];
    return image;
  },
  setBackgroundImage: function (image) {
    var self = this;

    if (self.$textbox.is(':visible')) {
      self.pushText();
    }

    var currentImage = self.selectBackgroundImage(self.selectedImage);

    if (currentImage) {
      currentImage.storedElement = self.storedElement;
      currentImage.storedUndo = self.storedUndo;
    }

    self.img = new Image();
    self.img.src = image.path;

    self.img.onload = function () {
      if ((self.options.width && self.options.height) !== undefined || (self.options.width && self.options.height) !== 0) {
        self.currentWidth = this.width;
        self.currentHeight = this.height;
        self.selectImageSize.width = this.width;
        self.selectImageSize.height = this.height;
      } else {
        self.currentWidth = self.options.width;
        self.currentHeight = self.options.height;
      }

      self.baseCanvas.width = self.drawingCanvas.width = self.currentWidth;
      self.baseCanvas.height = self.drawingCanvas.height = self.currentHeight;
      self.baseContext.drawImage(self.img, 0, 0, self.currentWidth, self.currentHeight);
      self.$el.css({
        height: self.currentHeight,
        width: self.currentWidth
      });
      self.storedElement = image.storedElement;
      self.storedUndo = image.storedUndo;
      self.selectedImage = image.id;
      self.checkUndoRedo();
      self.clear();
      self.redraw();
      self.annotateresize();
    };
  },
  checkUndoRedo: function () {
    var self = this;
    self.$tool.children('.annotate-redo').attr('disabled', self.storedUndo.length === 0);
    self.$tool.children('.annotate-undo').attr('disabled', self.storedElement.length === 0);
  },
  undoaction: function (event) {
    event.preventDefault();
    var self = this;
    self.storedUndo.push(self.storedElement[self.storedElement.length - 1]);
    self.storedElement.pop();
    self.checkUndoRedo();
    self.clear();
    self.redraw();
  },
  redoaction: function (event) {
    event.preventDefault();
    var self = this;
    self.storedElement.push(self.storedUndo[self.storedUndo.length - 1]);
    self.storedUndo.pop();
    self.checkUndoRedo();
    self.clear();
    self.redraw();
  },
  redraw: function () {
    var self = this;
    self.baseCanvas.width = self.baseCanvas.width;

    if (self.options.images) {
      self.baseContext.drawImage(self.img, 0, 0, self.currentWidth, self.currentHeight);
    }

    if (self.storedElement.length === 0) {
      return;
    } // clear each stored line


    for (var i = 0; i < self.storedElement.length; i++) {
      var element = self.storedElement[i];

      if (!element) {
        return;
      }

      switch (element.type) {
        case 'rectangle':
          self.drawRectangle(self.baseContext, element.fromx, element.fromy, element.tox, element.toy);
          break;

        case 'arrow':
          self.drawArrow(self.baseContext, element.fromx, element.fromy, element.tox, element.toy);
          break;

        case 'pen':
          for (var b = 0; b < element.points.length - 1; b++) {
            var fromx = element.points[b][0];
            var fromy = element.points[b][1];
            var tox = element.points[b + 1][0];
            var toy = element.points[b + 1][1];
            self.drawPen(self.baseContext, fromx, fromy, tox, toy);
          }

          break;

        case 'text':
          self.drawText(self.baseContext, element.text, element.fromx, element.fromy, element.maxwidth);
          break;

        case 'circle':
          self.drawCircle(self.baseContext, element.fromx, element.fromy, element.tox, element.toy);
          break;

        default:
      }
    }
  },
  clear: function () {
    var self = this; // Clear Canvas

    self.drawingCanvas.width = self.drawingCanvas.width;
  },
  drawRectangle: function (context, x, y, w, h) {
    var self = this;
    context.beginPath();
    context.rect(x, y, w, h);
    context.fillStyle = 'transparent';
    context.fill();
    context.lineWidth = self.linewidth;
    context.strokeStyle = self.options.color;
    context.stroke();
  },
  drawCircle: function (context, x1, y1, x2, y2) {
    var radiusX = (x2 - x1) * 0.5;
    var radiusY = (y2 - y1) * 0.5;
    var centerX = x1 + radiusX;
    var centerY = y1 + radiusY;
    var step = 0.05;
    var a = step;
    var pi2 = Math.PI * 2 - step;
    var self = this;
    context.beginPath();
    context.moveTo(centerX + radiusX * Math.cos(0), centerY + radiusY * Math.sin(0));

    for (; a < pi2; a += step) {
      context.lineTo(centerX + radiusX * Math.cos(a), centerY + radiusY * Math.sin(a));
    }

    context.lineWidth = self.linewidth;
    context.strokeStyle = self.options.color;
    context.closePath();
    context.stroke();
  },
  drawArrow: function (context, x, y, w, h) {
    var self = this;
    var angle = Math.atan2(h - y, w - x);
    context.beginPath();
    context.lineWidth = self.linewidth;
    context.moveTo(x, y);
    context.lineTo(w, h);
    context.moveTo(w - self.linewidth * 5 * Math.cos(angle + Math.PI / 6), h - self.linewidth * 5 * Math.sin(angle + Math.PI / 6));
    context.lineTo(w, h);
    context.lineTo(w - self.linewidth * 5 * Math.cos(angle - Math.PI / 6), h - self.linewidth * 5 * Math.sin(angle - Math.PI / 6));
    context.strokeStyle = self.options.color;
    context.stroke();
  },
  drawPen: function (context, fromx, fromy, tox, toy) {
    var self = this;
    context.lineWidth = self.linewidth;
    context.moveTo(fromx, fromy);
    context.lineTo(tox, toy);
    context.strokeStyle = self.options.color;
    context.stroke();
  },
  wrapText: function (drawingContext, text, x, y, maxWidth, lineHeight) {
    var lines = text.split('\n');

    for (var i = 0; i < lines.length; i++) {
      var words = lines[i].split(' ');
      var line = '';

      for (var n = 0; n < words.length; n++) {
        var testLine = line + words[n] + ' ';
        var metrics = drawingContext.measureText(testLine);
        var testWidth = metrics.width;

        if (testWidth > maxWidth && n > 0) {
          drawingContext.fillText(line, x, y);
          line = words[n] + ' ';
          y += lineHeight;
        } else {
          line = testLine;
        }
      }

      drawingContext.fillText(line, x, y + i * lineHeight);
    }
  },
  drawText: function (context, text, x, y, maxWidth) {
    var self = this;
    context.font = self.fontsize + ' sans-serif';
    context.textBaseline = 'top';
    context.fillStyle = self.options.color;
    self.wrapText(context, text, x + 3, y + 4, maxWidth, 25);
  },
  pushText: function () {
    var self = this;
    var text = self.$textbox.val();
    self.$textbox.val('').hide();

    if (text) {
      self.storedElement.push({
        type: 'text',
        text: text,
        fromx: self.fromx,
        fromy: self.fromy,
        maxwidth: self.tox
      });

      if (self.storedUndo.length > 0) {
        self.storedUndo = [];
      }
    }

    self.checkUndoRedo();
    self.redraw();
  },
  // Events
  selectTool: function (element) {
    var self = this;
    self.options.type = element.data('tool');

    if (self.$textbox.is(':visible')) {
      self.pushText();
    }
  },
  annotatestart: function (event) {
    var self = this;
    self.clicked = true;
    var offset = self.$el.offset();

    if (self.$textbox.is(':visible')) {
      var text = self.$textbox.val();
      self.$textbox.val('').hide();

      if (text !== '') {
        if (!self.tox) {
          self.tox = 100;
        }

        self.storedElement.push({
          type: 'text',
          text: text,
          fromx: (self.fromxText - offset.left) * self.compensationWidthRate,
          fromy: (self.fromyText - offset.top) * self.compensationWidthRate,
          maxwidth: self.tox
        });

        if (self.storedUndo.length > 0) {
          self.storedUndo = [];
        }
      }

      self.checkUndoRedo();
      self.redraw();
      self.clear();
    }

    self.tox = null;
    self.toy = null;
    self.points = [];
    var pageX = event.pageX || event.originalEvent.touches[0].pageX;
    var pageY = event.pageY || event.originalEvent.touches[0].pageY;
    self.fromx = (pageX - offset.left) * self.compensationWidthRate;
    self.fromy = (pageY - offset.top) * self.compensationWidthRate;
    self.fromxText = pageX;
    self.fromyText = pageY;

    if (self.options.type === 'text') {
      self.$textbox.css({
        left: self.fromxText + 2,
        top: self.fromyText,
        width: 0,
        height: 0
      }).show();
    }

    if (self.options.type === 'pen') {
      self.points.push([self.fromx, self.fromy]);
    }
  },
  annotatestop: function () {
    var self = this;
    self.clicked = false;

    if (self.toy !== null && self.tox !== null) {
      switch (self.options.type) {
        case 'rectangle':
          self.storedElement.push({
            type: 'rectangle',
            fromx: self.fromx,
            fromy: self.fromy,
            tox: self.tox,
            toy: self.toy
          });
          break;

        case 'circle':
          self.storedElement.push({
            type: 'circle',
            fromx: self.fromx,
            fromy: self.fromy,
            tox: self.tox,
            toy: self.toy
          });
          break;

        case 'arrow':
          self.storedElement.push({
            type: 'arrow',
            fromx: self.fromx,
            fromy: self.fromy,
            tox: self.tox,
            toy: self.toy
          });
          break;

        case 'text':
          self.$textbox.css({
            left: self.fromxText + 2,
            top: self.fromyText,
            width: self.tox - 12,
            height: self.toy
          });
          break;

        case 'pen':
          self.storedElement.push({
            type: 'pen',
            points: self.points
          });

          for (var i = 0; i < self.points.length - 1; i++) {
            self.fromx = self.points[i][0];
            self.fromy = self.points[i][1];
            self.tox = self.points[i + 1][0];
            self.toy = self.points[i + 1][1];
            self.drawPen(self.baseContext, self.fromx, self.fromy, self.tox, self.toy);
          }

          self.points = [];
          break;

        default:
      }

      if (self.storedUndo.length > 0) {
        self.storedUndo = [];
      }

      self.checkUndoRedo();
      self.redraw();
    } else if (self.options.type === 'text') {
      self.$textbox.css({
        left: self.fromxText + 2,
        top: self.fromyText,
        width: 100,
        height: 50
      });
    }
  },
  annotateleave: function (event) {
    var self = this;

    if (self.clicked) {
      self.annotatestop(event);
    }
  },
  annotatemove: function (event) {
    var self = this;

    if (self.options.type) {
      event.preventDefault();
    }

    if (!self.clicked) {
      return;
    }

    var offset = self.$el.offset();
    var pageX = event.pageX || event.originalEvent.touches[0].pageX;
    var pageY = event.pageY || event.originalEvent.touches[0].pageY;

    switch (self.options.type) {
      case 'rectangle':
        self.clear();
        self.tox = (pageX - offset.left) * self.compensationWidthRate - self.fromx;
        self.toy = (pageY - offset.top) * self.compensationWidthRate - self.fromy;
        self.drawRectangle(self.drawingContext, self.fromx, self.fromy, self.tox, self.toy);
        break;

      case 'arrow':
        self.clear();
        self.tox = (pageX - offset.left) * self.compensationWidthRate;
        self.toy = (pageY - offset.top) * self.compensationWidthRate;
        self.drawArrow(self.drawingContext, self.fromx, self.fromy, self.tox, self.toy);
        break;

      case 'pen':
        self.tox = (pageX - offset.left) * self.compensationWidthRate;
        self.toy = (pageY - offset.top) * self.compensationWidthRate;
        self.fromx = self.points[self.points.length - 1][0];
        self.fromy = self.points[self.points.length - 1][1];
        self.points.push([self.tox, self.toy]);
        self.drawPen(self.drawingContext, self.fromx, self.fromy, self.tox, self.toy);
        break;

      case 'text':
        self.clear();
        self.tox = (pageX - self.fromxText) * self.compensationWidthRate;
        self.toy = (pageY - self.fromyText) * self.compensationWidthRate;
        self.$textbox.css({
          left: self.fromxText + 2,
          top: self.fromyText,
          width: self.tox - 12,
          height: self.toy
        });
        break;

      case 'circle':
        self.clear();
        self.tox = (pageX - offset.left) * self.compensationWidthRate;
        self.toy = (pageY - offset.top) * self.compensationWidthRate;
        self.drawCircle(self.drawingContext, self.fromx, self.fromy, self.tox, self.toy);
        break;

      default:
    }
  },
  annotateresize: function () {
    var self = this;
    var currentWidth = self.$el.width();
    var currentcompensationWidthRate = self.compensationWidthRate;
    self.compensationWidthRate = self.selectImageSize.width / currentWidth;

    if (self.compensationWidthRate < 1) {
      self.compensationWidthRate = 1;
    }

    self.linewidth = self.options.linewidth * self.compensationWidthRate;
    self.fontsize = String(parseInt(self.options.fontsize.split('px')[0], 10) * self.compensationWidthRate) + 'px';

    if (currentcompensationWidthRate !== self.compensationWidthRate) {
      self.redraw();
      self.clear();
    }
  },
  updateOptions: function (options) {
    this.options = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend({}, this.options, options);
    this.exportImage({
      type: 'image/jpeg',
      quality: 1
    }, imageURI => {
      const image = {
        id: 1,
        path: imageURI,
        storedUndo: [],
        storedElement: []
      };
      this.setBackgroundImage(image);
    });
  },
  getColor: function () {
    return JSON.parse(JSON.stringify(this.options.color));
  },
  destroy: function () {
    var self = this;
    jquery__WEBPACK_IMPORTED_MODULE_0___default()(document).off(self.options.selectEvent, '.annotate-image-select');
    self.$tool.remove();
    self.$textbox.remove();
    self.$el.children('canvas').remove();
    self.$el.removeData('annotate');
  },
  exportImage: function (options, callback) {
    var self = this;

    if (self.$textbox.is(':visible')) {
      self.pushText();
    }

    var exportDefaults = {
      type: 'image/jpeg',
      quality: 0.75
    };
    options = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend({}, exportDefaults, options);
    var image = self.baseCanvas.toDataURL(options.type, options.quality);

    if (callback) {
      callback(image);
    } else {
      self.options.onExport(image);
    }
  }
};

jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.annotate = function (options, cmdOption, callback) {
  var $annotate = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).data('annotate');

  if (options === 'destroy') {
    if ($annotate) {
      $annotate.destroy();
    } else {
      throw new Error('No annotate initialized for: #' + jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).attr('id'));
    }
  } else if (options === 'push') {
    if ($annotate) {
      $annotate.pushImage(cmdOption, true, callback);
    } else {
      throw new Error('No annotate initialized for: #' + jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).attr('id'));
    }
  } else if (options === 'fill') {
    if ($annotate) {
      $annotate.addElements(cmdOption, true, callback);
    } else {
      throw new Error('No annotate initialized for: #' + jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).attr('id'));
    }
  } else if (options === 'export') {
    if ($annotate) {
      $annotate.exportImage(cmdOption, callback);
    } else {
      throw new Error('No annotate initialized for: #' + jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).attr('id'));
    }
  } else {
    var opts = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend({}, jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.annotate.defaults, options);
    var annotate = new Annotate(jquery__WEBPACK_IMPORTED_MODULE_0___default()(this), opts);
    jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).data('annotate', annotate);
  }
};

jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.annotate.defaults = {
  width: null,
  height: null,
  images: [],
  color: 'red',
  type: 'unselect',
  linewidth: 2,
  fontsize: '20px',
  bootstrap: true,
  position: 'top',
  idAttribute: 'id',
  selectEvent: 'change',
  unselectTool: false,
  onExport: function (image) {
    console.log(image);
  }
};

/***/ }),

/***/ "./src/utils/validation.js":
/*!*********************************!*\
  !*** ./src/utils/validation.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
const rules = {
  required: value => !value,
  minLength: min => value => value && (value.length < min ? true : false),
  maxLength: max => value => value && value.length > max ? true : false,
  email: value => value ? !/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(value) : false,
  min: min => value => value && !isFinite(value) && parseInt(value) > min ? true : false,
  max: max => value => value && !isFinite(value) && parseInt(value) < max ? true : false,
  pattern: pattern => value => !value ? false : !pattern.test(value),
  equalTo: eq => value => !value ? false : eq != value,
  digits: value => !value || !/^\d+$/.test(value)
};
/* harmony default export */ __webpack_exports__["default"] = (rules);

/***/ })

}]);
//# sourceMappingURL=4.chunk.js.map